@import 'tailwindcss';

@layer base {
  body {
    @apply bg-slate-950 text-slate-100 antialiased;
  }
  :root { --app-scale: 1; }
}

@layer components {
  .btn-primary {
    @apply inline-flex items-center justify-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-400 disabled:opacity-50 disabled:cursor-not-allowed transition;
  }
  .card {
    @apply rounded-lg border border-slate-800 bg-slate-900/60 backdrop-blur-sm p-4 shadow-sm;
  }
  .heading-gradient {
    @apply bg-gradient-to-r from-indigo-400 via-sky-400 to-teal-300 bg-clip-text text-transparent;
  }
}

/* Advanced cursor (fine pointers only) */
@media (pointer: fine) {
  body { cursor: none; }
  .cursor-trail {
    position: fixed; inset: 0; pointer-events: none; z-index: 9997;
  }
  .cursor-blob {
    position: fixed; top:0; left:0; width: 44px; height: 44px; pointer-events: none; z-index: 9998;
    transform: translate3d(-50%, -50%,0);
    filter: drop-shadow(0 0 6px #6366f1aa) drop-shadow(0 0 16px #6366f166);
    transition: filter .4s ease;
  }
  .cursor-blob::before {
    content:""; position:absolute; inset:0; border-radius:50%;
    background: radial-gradient(circle at 30% 30%, #6366f1, #4338ca 70%);
    mix-blend-mode: screen; opacity: .85;
    backdrop-filter: blur(4px) saturate(140%);
  }
  .cursor-blob .cb-ring {
    position:absolute; inset:0; border-radius:50%;
    border:2px solid #6366f188; box-shadow:0 0 12px 4px #6366f155 inset;
    transition: border-color .35s ease, transform .35s ease;
  }
  .cursor-blob[data-hover='1'] { filter: drop-shadow(0 0 10px #a855f7cc) drop-shadow(0 0 28px #a855f799); }
  .cursor-blob[data-hover='1']::before { background: radial-gradient(circle at 35% 35%, #c084fc, #7e22ce 70%); }
  .cursor-blob[data-hover='1'] .cb-ring { border-color:#c084fcaa; transform: scale(1.12); }
  .cursor-blob[data-down='1']::before { background: radial-gradient(circle at 38% 38%, #f87171, #dc2626 70%); }
  .cursor-blob[data-down='1'] .cb-ring { border-color:#f87171dd; transform: scale(.82); }
  @media (prefers-reduced-motion: reduce) {
    .cursor-blob, .cursor-blob .cb-ring { transition: none; }
    .cursor-trail { display:none; }
  }
}

@layer utilities {
  .grid-center {
    @apply grid place-items-center;
  }
  .animate-fade-in { animation: fade-in .5s ease; }
}

@keyframes fade-in { from { opacity:0; transform: translateY(6px); } to { opacity:1; transform: translateY(0); } }

/* TicTacToe enhancements */
@layer components {
  .ttt-board { position: relative; }
  .ttt-cell-mark { animation: mark-pop .35s cubic-bezier(.4,1.4,.6,1); }
  .win-line { position:absolute; inset:0; pointer-events:none; }
  .win-line::after { content:""; position:absolute; background:linear-gradient(90deg,#6366f1,#a855f7); box-shadow:0 0 12px 2px #6366f180; border-radius:6px; }
  .win-row-0::after { top:16.66%; left:4%; width:92%; height:6px; transform:translateY(-50%); }
  .win-row-1::after { top:50%; left:4%; width:92%; height:6px; transform:translateY(-50%); }
  .win-row-2::after { top:83.33%; left:4%; width:92%; height:6px; transform:translateY(-50%); }
  .win-col-0::after { left:16.66%; top:4%; height:92%; width:6px; transform:translateX(-50%); }
  .win-col-1::after { left:50%; top:4%; height:92%; width:6px; transform:translateX(-50%); }
  .win-col-2::after { left:83.33%; top:4%; height:92%; width:6px; transform:translateX(-50%); }
  .win-diag-main::after { top:50%; left:50%; width:92%; height:6px; transform:translate(-50%,-50%) rotate(45deg); transform-origin:center; }
  .win-diag-anti::after { top:50%; left:50%; width:92%; height:6px; transform:translate(-50%,-50%) rotate(-45deg); transform-origin:center; }
}

@keyframes mark-pop { 0% { transform:scale(.2) rotate(-20deg); opacity:0; } 55% { opacity:1; } 100% { transform:scale(1) rotate(0); opacity:1; } }
